<?xml version="1.0" encoding="UTF-8"?>
<bpws:process exitOnStandardFault="no"
    name="comigsfak001_0101_main_anspruch_ag_pruefen"
    suppressJoinFailure="yes" tibex:bxVersion="1.15.0"
    tibex:explicitCompensation="yes"
    tibex:xpdlId="_x_YydP1NEeiPopDWv-BhcA"
    xmlns:bpws="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
    xmlns:tibex="http://www.tibco.com/bpel/2007/extensions" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <tibex:VariableDescriptor type="PersistentBatching">
        <task name="ZurckAbschliessen">
            <ProcessManagerScript type="Initiate">
                <variable>wp_case_closed</variable>
            </ProcessManagerScript>
        </task>
        <task name="_BX_SPInput_Wiedervorlage">
            <startingVariables>
                <variable>sp_wiedervorlagen</variable>
                <variable>In_Geschaeftsvorfall</variable>
            </startingVariables>
        </task>
        <task name="AnspruchFAKerfassen">
            <startingVariables>
                <variable>sp_brief_schreiben</variable>
                <variable>back_to_main_process</variable>
                <variable>sp_wiedervorlagen</variable>
                <variable>wp_case_closed</variable>
            </startingVariables>
        </task>
    </tibex:VariableDescriptor>
    <bpws:documentation>*** Generated by TIBCO Business Studio.</bpws:documentation>
    <bpws:variables>
        <bpws:variable name="wp_case_closed" tibex:parameter="out"
            tibex:xpdlId="_fJaOIf1REeiPopDWv-BhcA" type="xsd:boolean"/>
        <bpws:variable name="In_Geschaeftsvorfall"
            tibex:class="com.example.comigsfak001.Geschaeftsvorfall"
            tibex:parameter="in" tibex:xpdlId="_guOgwf1aEeiPopDWv-BhcA"/>
        <bpws:variable name="back_to_main_process"
            tibex:xpdlId="_WhdrcP1SEeiPopDWv-BhcA" type="xsd:boolean"/>
        <bpws:variable name="sp_brief_schreiben"
            tibex:xpdlId="_L_GDcP1TEeiPopDWv-BhcA" type="xsd:boolean"/>
        <bpws:variable name="sp_wiedervorlagen"
            tibex:xpdlId="_tf6qkP1aEeiPopDWv-BhcA" type="xsd:boolean"/>
        <bpws:variable name="sp_drittauszahlung_pruefen"
            tibex:xpdlId="_ruessf1bEeiPopDWv-BhcA" type="xsd:boolean"/>
        <bpws:variable name="sp_auszahlung_erfassen"
            tibex:xpdlId="_yFLwEP1bEeiPopDWv-BhcA" type="xsd:boolean"/>
        <bpws:variable name="sp_dokument_erstellen"
            tibex:xpdlId="_4mTTsP1bEeiPopDWv-BhcA" type="xsd:boolean"/>
    </bpws:variables>
    <bpws:extensions>
        <bpws:extension mustUnderstand="yes" namespace="http://www.tibco.com/bpel/2007/extensions"/>
    </bpws:extensions>
    <bpws:eventHandlers/>
    <bpws:flow name="_BX_flow_I6w0QP5aEeiFLcX4iMwVPw" tibex:sequenceFlow="yes">
        <bpws:links>
            <bpws:link
                name="_FHrmEP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA" tibex:xpdlId="_x_Yyj_1NEeiPopDWv-BhcA"/>
            <bpws:link
                name="_Oss_kP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA" tibex:xpdlId="_x_Yyjv1NEeiPopDWv-BhcA"/>
            <bpws:link
                name="_a2HocP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA" tibex:xpdlId="_x_Yyjf1NEeiPopDWv-BhcA"/>
            <bpws:link name="Wiedervorlage to AnspruchFAKerfassen"
                tibex:loopback="yes" tibex:xpdlId="_QhydcP1REeiPopDWv-BhcA"/>
            <bpws:link
                name="_hzrQcP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA" tibex:xpdlId="_x_YyjP1NEeiPopDWv-BhcA"/>
            <bpws:link name="StartEvent to AnspruchFAKerfassen" tibex:xpdlId="_x_Yygv1NEeiPopDWv-BhcA"/>
            <bpws:link name="AnspruchFAKerfassen to Menauswahl" tibex:xpdlId="_x_YyhP1NEeiPopDWv-BhcA"/>
            <bpws:link name="AnspruchFAKerfassen to Wiedervorlage" tibex:xpdlId="_P1sMcP1REeiPopDWv-BhcA"/>
            <bpws:link name="Zurck" tibex:xpdlId="_x_Yyg_1NEeiPopDWv-BhcA"/>
            <bpws:link name="FallerledigtAblage" tibex:xpdlId="_x_Yyhf1NEeiPopDWv-BhcA"/>
            <bpws:link name="Drittauszahlungprfen" tibex:xpdlId="_x_YyiP1NEeiPopDWv-BhcA"/>
            <bpws:link name="Auszahlungerfassen" tibex:xpdlId="_x_Yyif1NEeiPopDWv-BhcA"/>
            <bpws:link name="Dokumenterstellen" tibex:xpdlId="_x_Yyiv1NEeiPopDWv-BhcA"/>
            <bpws:link name="Pendenzerstellen" tibex:xpdlId="_x_Yyi_1NEeiPopDWv-BhcA"/>
            <bpws:link name="Menauswahl to Briefschreiben" tibex:xpdlId="_zLbAYP1QEeiPopDWv-BhcA"/>
            <bpws:link name="Briefschreiben to AnspruchFAKerfassen"
                tibex:loopback="yes" tibex:xpdlId="_OTyU0P1REeiPopDWv-BhcA"/>
            <bpws:link name="AUTOOpen" tibex:loopback="yes" tibex:xpdlId="_x_YykP1NEeiPopDWv-BhcA"/>
        </bpws:links>
        <bpws:extensionActivity>
            <tibex:receiveEvent createInstance="yes" eventTimeout="0"
                name="StartEvent" tibex:type="startEvent"
                tibex:xpdlId="_x_Yydf1NEeiPopDWv-BhcA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:sources>
                    <bpws:source linkName="StartEvent to AnspruchFAKerfassen"/>
                </bpws:sources>
                <tibex:parameters>
                    <parameterDescription mode="In" name="In_Geschaeftsvorfall"/>
                    <parameterDescription mode="Out" name="wp_case_closed"/>
                </tibex:parameters>
                <tibex:eventSource>
                    <tibex:startEvent eventType="Default"/>
                </tibex:eventSource>
            </tibex:receiveEvent>
        </bpws:extensionActivity>
        <bpws:extensionActivity>
            <tibex:extActivity name="AnspruchFAKerfassen"
                tibex:type="userTask"
                tibex:xpdlId="_x_Yydv1NEeiPopDWv-BhcA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="Wiedervorlage to AnspruchFAKerfassen"/>
                    <bpws:target linkName="StartEvent to AnspruchFAKerfassen"/>
                    <bpws:target linkName="Briefschreiben to AnspruchFAKerfassen"/>
                    <bpws:target linkName="AUTOOpen"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="AnspruchFAKerfassen to Menauswahl"/>
                    <bpws:source linkName="AnspruchFAKerfassen to Wiedervorlage">
                        <bpws:transitionCondition expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[sp_wiedervorlagen==true;]]></bpws:transitionCondition>
                    </bpws:source>
                </bpws:sources>
                <model:UserTaskDataModelType
                    distributionStrategy="OFFER" userTaskPriority="50"
                    workModelID="WM__x_Yydv1NEeiPopDWv-BhcA"
                    workModelVersionRange="[1.0.0.qualifier,1.0.0.qualifier]"
                    xmi:version="2.0"
                    xmlns:model="http://model.ut.n2.tibco.com" xmlns:xmi="http://www.omg.org/XMI">
                    <userTaskParticipants>
                        <userTaskParticipant
                            entity="ORGANIZATIONAL_UNIT"
                            modelVersion="1" uniqueId="_ZMPp0PxZEeiF0cp9x5MzdA"/>
                    </userTaskParticipants>
                    <userTaskParameters>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="wp_case_closed"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="back_to_main_process"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="sp_brief_schreiben"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="sp_wiedervorlagen"/>
                    </userTaskParameters>
                    <userTaskGroupMemberships/>
                </model:UserTaskDataModelType>
            </tibex:extActivity>
        </bpws:extensionActivity>
        <bpws:empty name="Zurck" tibex:type="endEvent" tibex:xpdlId="_x_Yyef1NEeiPopDWv-BhcA">
            <bpws:targets>
                <bpws:target linkName="Zurck"/>
            </bpws:targets>
        </bpws:empty>
        <bpws:empty name="Menauswahl" tibex:type="exclusiveGateway" tibex:xpdlId="_x_Yyev1NEeiPopDWv-BhcA">
            <bpws:targets>
                <bpws:target linkName="AnspruchFAKerfassen to Menauswahl"/>
            </bpws:targets>
            <bpws:sources tibex:maxTrue="1">
                <bpws:source linkName="Zurck">
                    <bpws:transitionCondition expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[##otherwise##]]></bpws:transitionCondition>
                </bpws:source>
                <bpws:source linkName="FallerledigtAblage">
                    <bpws:transitionCondition expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[wp_case_closed==true;]]></bpws:transitionCondition>
                </bpws:source>
                <bpws:source linkName="Drittauszahlungprfen">
                    <bpws:transitionCondition expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[sp_drittauszahlung_pruefen==true;]]></bpws:transitionCondition>
                </bpws:source>
                <bpws:source linkName="Auszahlungerfassen">
                    <bpws:transitionCondition expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[sp_auszahlung_erfassen==true;]]></bpws:transitionCondition>
                </bpws:source>
                <bpws:source linkName="Dokumenterstellen">
                    <bpws:transitionCondition expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[sp_dokument_erstellen==true;]]></bpws:transitionCondition>
                </bpws:source>
                <bpws:source linkName="Pendenzerstellen">
                    <bpws:transitionCondition expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[1==1]]></bpws:transitionCondition>
                </bpws:source>
                <bpws:source linkName="Menauswahl to Briefschreiben">
                    <bpws:transitionCondition expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[sp_brief_schreiben==true;]]></bpws:transitionCondition>
                </bpws:source>
            </bpws:sources>
        </bpws:empty>
        <bpws:empty name="ZurckAbschliessen" tibex:type="endEvent" tibex:xpdlId="_x_Yye_1NEeiPopDWv-BhcA">
            <tibex:initiatedScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[wp_case_closed=true;
]]></tibex:initiatedScript>
            <bpws:targets>
                <bpws:target linkName="FallerledigtAblage"/>
            </bpws:targets>
        </bpws:empty>
        <bpws:extensionActivity>
            <tibex:extActivity name="Briefschreiben"
                tibex:type="reusableSubProcess"
                tibex:xpdlId="_x_YyfP1NEeiPopDWv-BhcA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="Menauswahl to Briefschreiben"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="Briefschreiben to AnspruchFAKerfassen"/>
                </bpws:sources>
                <tibex:callProcess followParentLifecycle="yes"
                    priority="inline" subProcessId="_nOiPUPyaEeiF0cp9x5MzdA"/>
            </tibex:extActivity>
        </bpws:extensionActivity>
        <bpws:empty name="_BX_gateway__x_Yygf1NEeiPopDWv-BhcA"
            tibex:type="exclusiveGateway" tibex:xpdlId="_x_Yygf1NEeiPopDWv-BhcA">
            <bpws:targets tibex:waitFor="1">
                <bpws:target linkName="_FHrmEP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA"/>
                <bpws:target linkName="_Oss_kP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA"/>
                <bpws:target linkName="_a2HocP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA"/>
                <bpws:target linkName="_hzrQcP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA"/>
            </bpws:targets>
            <bpws:sources>
                <bpws:source linkName="AUTOOpen"/>
            </bpws:sources>
        </bpws:empty>
        <bpws:scope name="Wiedervorlage" tibex:type="reusableSubProcess" tibex:xpdlId="_gMq3Yv1QEeiPopDWv-BhcA">
            <bpws:targets>
                <bpws:target linkName="AnspruchFAKerfassen to Wiedervorlage"/>
            </bpws:targets>
            <bpws:sources>
                <bpws:source linkName="Wiedervorlage to AnspruchFAKerfassen"/>
            </bpws:sources>
            <bpws:variables>
                <bpws:variable name="_BX_Wiedervorlage_Datum" type="xsd:dateTime"/>
                <bpws:variable name="_BX_Wiedervorlage" type="xsd:boolean"/>
                <bpws:variable name="_BX_Task" type="xsd:string"/>
            </bpws:variables>
            <bpws:sequence name="_BX_sequence_2">
                <bpws:extensionActivity>
                    <tibex:extActivity name="_BX_SPInput_Wiedervorlage" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                        <tibex:script expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[// Map from 'Process.id' to 'Task'
_BX_Task = Process.getId();

// Map from 'sp_wiedervorlagen' to 'Wiedervorlage'
_BX_Wiedervorlage = sp_wiedervorlagen;

// Map from 'In_Geschaeftsvorfall.frist' to 'Wiedervorlage_Datum'
if (In_Geschaeftsvorfall != null) {
    _BX_Wiedervorlage_Datum = In_Geschaeftsvorfall.frist;
} else {
    _BX_Wiedervorlage_Datum = null;
}


]]></tibex:script>
                    </tibex:extActivity>
                </bpws:extensionActivity>
                <bpws:extensionActivity>
                    <tibex:extActivity name="Wiedervorlage" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                        <tibex:callProcess followParentLifecycle="yes"
                            priority="inline" subProcessId="_rw5_Y_x7EeiF0cp9x5MzdA">
                            <tibex:subProcessInput>
                                <tibex:mapping
                                    field="_BX_Wiedervorlage_Datum" formalParameter="Wiedervorlage_Datum"/>
                                <tibex:mapping field="_BX_Wiedervorlage" formalParameter="Wiedervorlage"/>
                                <tibex:mapping field="_BX_Task" formalParameter="Task"/>
                            </tibex:subProcessInput>
                        </tibex:callProcess>
                    </tibex:extActivity>
                </bpws:extensionActivity>
            </bpws:sequence>
        </bpws:scope>
        <bpws:extensionActivity>
            <tibex:extActivity
                name="comigsfak001_0101_bz_pendenz_partner_erstellen"
                tibex:type="reusableSubProcess"
                tibex:xpdlId="_FHrmEP1bEeiPopDWv-BhcA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="Pendenzerstellen"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="_FHrmEP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA"/>
                </bpws:sources>
                <tibex:callProcess followParentLifecycle="yes"
                    priority="inline" subProcessId="_MU7P4P1bEeiPopDWv-BhcA"/>
            </tibex:extActivity>
        </bpws:extensionActivity>
        <bpws:extensionActivity>
            <tibex:extActivity
                name="comigsfak001_0101_fak_dokument_erstellen"
                tibex:type="reusableSubProcess"
                tibex:xpdlId="_Oss_kP1bEeiPopDWv-BhcA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="Dokumenterstellen"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="_Oss_kP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA"/>
                </bpws:sources>
                <tibex:callProcess followParentLifecycle="yes"
                    priority="inline" subProcessId="_T5U1cP1bEeiPopDWv-BhcA"/>
            </tibex:extActivity>
        </bpws:extensionActivity>
        <bpws:extensionActivity>
            <tibex:extActivity
                name="comigsfak001_0101_fak_auszahlung_bearbeiten"
                tibex:type="reusableSubProcess"
                tibex:xpdlId="_a2HocP1bEeiPopDWv-BhcA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="Auszahlungerfassen"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="_a2HocP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA"/>
                </bpws:sources>
                <tibex:callProcess followParentLifecycle="yes"
                    priority="inline" subProcessId="_f-NjoP1bEeiPopDWv-BhcA"/>
            </tibex:extActivity>
        </bpws:extensionActivity>
        <bpws:extensionActivity>
            <tibex:extActivity
                name="comigsfak001_0101_fak_drittauszahlung_pruefen"
                tibex:type="reusableSubProcess"
                tibex:xpdlId="_hzrQcP1bEeiPopDWv-BhcA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="Drittauszahlungprfen"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="_hzrQcP1bEeiPopDWv-BhcA to _x_Yygf1NEeiPopDWv-BhcA"/>
                </bpws:sources>
                <tibex:callProcess followParentLifecycle="yes"
                    priority="inline" subProcessId="_oY3bwP1bEeiPopDWv-BhcA"/>
            </tibex:extActivity>
        </bpws:extensionActivity>
    </bpws:flow>
</bpws:process>
